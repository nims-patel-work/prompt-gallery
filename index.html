<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Prompt Gallery ‚Äî Gemini</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#f7fbfd;
    --card:#ffffff;
    --muted:#6b7280;
    --accent:#06b6d4;
    --accent-dark:#089aa9;
    --radius:12px;
    --gap:14px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:"Inter",system-ui,Arial;background:linear-gradient(180deg,#fbfdfe,#f0f6f9);-webkit-font-smoothing:antialiased;color:#071028}
  .wrap{max-width:1200px;margin:18px auto;padding:14px}

  header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
  h1{margin:0;font-size:20px;font-weight:700}
  .controls{display:flex;gap:10px;align-items:center}
  .search{
    width:360px;max-width:44vw;padding:10px 12px;border-radius:12px;border:1px solid rgba(7,16,32,0.06);
    background:rgba(255,255,255,0.95);font-size:14px;outline:none;box-shadow:0 6px 18px rgba(11,22,38,0.03);
  }

  /* GRID */
  .grid{
    display:grid;
    gap:var(--gap);
    margin-top:14px;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  }
  @media (min-width:1200px){ .grid{ grid-template-columns: repeat(4, 1fr); } }
  @media (min-width:900px) and (max-width:1199px){ .grid{ grid-template-columns: repeat(3, 1fr); } }
  @media (min-width:600px) and (max-width:899px){ .grid{ grid-template-columns: repeat(2, 1fr); } }
  @media (max-width:599px){ .grid{ grid-template-columns: repeat(2, 1fr); gap:10px; } }

  /* Card */
  .card{
    background:var(--card);
    border-radius:var(--radius);
    padding:10px;
    display:flex;
    flex-direction:column;
    gap:10px;
    box-shadow:0 12px 30px rgba(11,22,38,0.06);
    min-height:260px;
    overflow:hidden;
    position:relative;
    transition:transform .12s ease, box-shadow .12s ease;
  }
  @media (hover: hover) and (pointer: fine){ .card:hover{ transform:translateY(-6px); box-shadow:0 22px 60px rgba(11,22,38,0.12); } }

  /* Larger images */
  .imgwrap{position:relative;width:100%;height:220px;border-radius:10px;overflow:hidden;background:linear-gradient(180deg,#eef6fb,#f7fbfd);border:1px solid rgba(6,22,34,0.03)}
  @media (max-width:599px){ .imgwrap{height:200px} }
  @media (max-width:420px){ .imgwrap{height:180px} }

  .thumb{width:100%;height:100%;object-fit:cover;object-position:bottom right;display:block;transition:transform .28s ease,object-fit .28s ease,object-position .28s ease}

  @media (hover: hover) and (pointer: fine){
    .card:hover .imgwrap{height:300px}
    .card:hover .thumb{object-fit:contain;object-position:center center}
  }

  /* expand icon */
  .expandBtn{
    position:absolute;bottom:10px;right:10px;background:rgba(0,0,0,0.6);border:none;color:#fff;
    width:36px;height:36px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:18px;line-height:1;
  }

  .title{font-weight:700;font-size:15px;color:#041227}
  .prompt{
    font-size:13px;color:var(--muted);line-height:1.35;overflow:hidden;
    display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;
  }

  /* actions */
  .actions{display:flex;align-items:center;gap:10px;margin-top:auto}
  .copyBtn{
    padding:10px 12px;border-radius:8px;border:none;background:linear-gradient(180deg,var(--accent),var(--accent-dark));
    color:#fff;font-weight:700;cursor:pointer;
  }
  .copyBtn.copied{background:linear-gradient(180deg,#10b981,#059669)}

  /* modal */
  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.5);z-index:9999;padding:18px}
  .modal.show{display:flex}

  /* ‚úÖ White background for modal */
  .modal-card{
    width:min(1100px,98%);
    max-height:95vh;
    background:#ffffff;
    color:#111;
    border-radius:12px;
    padding:14px;
    display:flex;
    gap:16px;
    align-items:flex-start;
    box-shadow:0 14px 36px rgba(0,0,0,0.2);
  }
  @media(max-width:920px){ .modal-card{flex-direction:column;align-items:center;padding:12px} }

  .modal-left{flex:1;display:flex;align-items:center;justify-content:center;max-height:80vh;overflow:hidden}
  .modal-img{max-width:100%;max-height:80vh;object-fit:contain;border-radius:8px}
  .modal-right{width:360px;max-width:36%;display:flex;flex-direction:column;gap:10px}
  @media(max-width:920px){ .modal-right{width:100%;max-width:100%} }

  .modal-title{font-size:18px;font-weight:700}
  /* ‚úÖ Full prompt visible in modal */
  .modal-prompt{
    font-size:14px;
    color:#333;
    background:#f9fafb;
    padding:10px;
    border-radius:8px;
    white-space:pre-wrap;
    overflow-y:auto;
    max-height:200px;
  }
  .modal-actions{display:flex;gap:8px;margin-top:auto}
  .btn-ghost{background:#f1f5f9;border:1px solid #d1d5db;padding:8px 12px;border-radius:8px;color:#111;cursor:pointer}
  .btn-primary{background:linear-gradient(180deg,var(--accent),var(--accent-dark));border:none;padding:10px 14px;border-radius:8px;color:white;font-weight:700;cursor:pointer}

  footer{margin-top:16px;color:var(--muted);text-align:center;font-size:13px}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>Prompt Gallery ‚Äî Gemini</h1>
        <div style="color:var(--muted);font-size:13px;margin-top:6px">Tap copy to use prompt. Use üîç to view full image.</div>
      </div>
      <div class="controls">
        <input id="search" class="search" placeholder="Search prompts..." aria-label="Search prompts" />
      </div>
    </header>

    <div id="grid" class="grid" aria-live="polite"></div>

    <footer>Attach your closer face photo, then copy the prompt if you like, and then submit.</footer>
  </div>

  <!-- modal -->
  <div id="modal" class="modal" role="dialog" aria-hidden="true">
    <div class="modal-card" role="document" aria-modal="true">
      <div class="modal-left">
        <img id="modalImg" class="modal-img" src="" alt="Full image" />
      </div>
      <div class="modal-right">
        <div id="modalTitle" class="modal-title">Title</div>
        <div id="modalPrompt" class="modal-prompt"></div>
        <div class="modal-actions">
          <button id="modalCopy" class="btn-primary">Copy Prompt</button>
          <button id="modalClose" class="btn-ghost">Close</button>
        </div>
      </div>
    </div>
  </div>

<script>
const PROMPTS_JSON_URL = 'prompts.json';
const grid = document.getElementById('grid');
const search = document.getElementById('search');
const modal = document.getElementById('modal');
const modalImg = document.getElementById('modalImg');
const modalTitle = document.getElementById('modalTitle');
const modalPrompt = document.getElementById('modalPrompt');
const modalCopy = document.getElementById('modalCopy');
const modalClose = document.getElementById('modalClose');
let DATA = [];

function el(tag, cls){ const e = document.createElement(tag); if(cls) e.className = cls; return e; }
function flashBtn(btn, text='Copied ‚úì'){ const prev = btn.textContent; btn.textContent = text; btn.classList.add('copied'); setTimeout(()=>{ btn.textContent = prev; btn.classList.remove('copied') }, 1100); }

function render(items){
  grid.innerHTML = '';
  if(!items.length){ const m = el('div'); m.style.color = '#6b7280'; m.textContent = 'No prompts found.'; grid.appendChild(m); return; }

  items.forEach((it, idx)=>{
    const card=el('div','card');
    const iw=el('div','imgwrap');
    const img=el('img','thumb'); img.src=it.image; img.alt=it.title||'image';
    img.onerror=()=>{ img.src='https://via.placeholder.com/1200x800?text=No+Image' };
    const expand=el('button','expandBtn'); expand.innerHTML='üîç'; expand.addEventListener('click',()=>openModal(it));
    iw.appendChild(img); iw.appendChild(expand);

    const title=el('div','title'); title.textContent=it.title;
    const prompt=el('div','prompt'); prompt.textContent=it.prompt;

    const actions=el('div','actions');
    const copyBtn=el('button','copyBtn'); copyBtn.textContent='Copy';
    copyBtn.addEventListener('click',async()=>{await navigator.clipboard.writeText(it.prompt);flashBtn(copyBtn)});
    actions.appendChild(copyBtn);

    card.appendChild(iw); card.appendChild(title); card.appendChild(prompt); card.appendChild(actions);
    grid.appendChild(card);
  });
}

function openModal(it){
  modalImg.src=it.image||''; modalTitle.textContent=it.title||''; modalPrompt.textContent=it.prompt||'';
  modal.classList.add('show'); modal.setAttribute('aria-hidden','false');
}
function closeModal(){ modal.classList.remove('show'); modal.setAttribute('aria-hidden','true'); }

modalCopy.addEventListener('click',async()=>{await navigator.clipboard.writeText(modalPrompt.textContent||'');flashBtn(modalCopy)});
modalClose.addEventListener('click',closeModal);
modal.addEventListener('click',e=>{if(e.target===modal)closeModal()});
document.addEventListener('keydown',e=>{if(e.key==='Escape')closeModal()});

async function loadData(){
  try{
    const res=await fetch(PROMPTS_JSON_URL,{cache:'no-store'});
    if(!res.ok) throw new Error('no json');
    DATA=await res.json();
  }catch{DATA=[
    {title:'Black Saree Portrait',prompt:'Turn this photo into a retro...',image:'images/1.jpeg'},
    {title:'Red Saree Portrait',prompt:'Turn this photo into a retro...',image:'images/2.jpeg'},
    {title:'Lavender Saree Portrait',prompt:'Create a retro...',image:'images/3.jpeg'}
  ]}
  render(DATA);
}
loadData();
</script>
</body>
</html>
