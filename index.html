<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Prompt Gallery — Gemini with Full Image</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#f7fbfd;
    --card:#ffffff;
    --muted:#6b7280;
    --accent:#06b6d4;
    --accent-dark:#089aa9;
    --radius:12px;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:"Inter",system-ui,Arial;background:linear-gradient(180deg,#fbfdfe,#f0f6f9);color:#0f172a}
  .wrap{max-width:1200px;margin:28px auto;padding:18px}

  .grid{display:grid;gap:16px;margin-top:16px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}
  .card{background:var(--card);border-radius:var(--radius);padding:12px;display:flex;flex-direction:column;gap:10px;
    box-shadow:0 10px 26px rgba(11,22,38,0.05);position:relative}
  .imgwrap{position:relative;width:100%;height:200px;border-radius:10px;overflow:hidden}
  .thumb{width:100%;height:100%;object-fit:cover;object-position:bottom right}

  /* expand icon */
  .expandBtn{
    position:absolute;bottom:8px;right:8px;
    background:rgba(0,0,0,0.6);border:none;color:#fff;
    width:32px;height:32px;border-radius:50%;cursor:pointer;
    display:flex;align-items:center;justify-content:center;
    font-size:16px;line-height:1;
  }
  .expandBtn:hover{background:rgba(0,0,0,0.75)}

  .title{font-weight:700;font-size:15px}
  .prompt{font-size:13px;color:var(--muted);line-height:1.35;overflow:hidden;
    display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}

  .actions{margin-top:6px}
  .copyBtn{padding:6px 12px;border-radius:8px;border:none;background:linear-gradient(180deg,var(--accent),var(--accent-dark));
    color:#fff;font-weight:600;cursor:pointer}
  .copyBtn.copied{background:linear-gradient(180deg,#10b981,#059669)}

  /* modal */
  .modal{position:fixed;inset:0;background:rgba(0,0,0,0.7);display:none;align-items:center;justify-content:center;z-index:1000}
  .modal.show{display:flex}
  .modal-content{background:#000;padding:10px;border-radius:8px;max-width:95%;max-height:90%}
  .modal-content img{max-width:100%;max-height:80vh;object-fit:contain}
  .closeModal{display:block;margin:8px auto 0;background:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-weight:600}
</style>
</head>
<body>
  <div class="wrap">
    <h1>Prompt Gallery — Gemini</h1>
    <div id="grid" class="grid"></div>
  </div>

  <!-- modal -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <img id="modalImg" src="" alt="Full view">
      <button id="closeModal" class="closeModal">Close</button>
    </div>
  </div>

<script>
const PROMPTS_JSON_URL = 'prompts.json';
const grid=document.getElementById('grid');
const modal=document.getElementById('modal');
const modalImg=document.getElementById('modalImg');
const closeModal=document.getElementById('closeModal');
let DATA=[];

function el(t,c){const e=document.createElement(t);if(c)e.className=c;return e;}
function flash(btn){btn.classList.add('copied');btn.textContent='Copied ✓';setTimeout(()=>{btn.classList.remove('copied');btn.textContent='Copy'},1000);}

function render(items){
  grid.innerHTML='';
  items.forEach(it=>{
    const card=el('div','card');
    const iw=el('div','imgwrap');
    const img=el('img','thumb');img.src=it.image;img.alt=it.title||'img';
    const expand=el('button','expandBtn');expand.innerHTML='🔍';
    expand.addEventListener('click',e=>{e.stopPropagation();openModal(it.image)});
    iw.appendChild(img);iw.appendChild(expand);

    const title=el('div','title');title.textContent=it.title;
    const prompt=el('div','prompt');prompt.textContent=it.prompt;

    const actions=el('div','actions');
    const copyBtn=el('button','copyBtn');copyBtn.textContent='Copy';
    copyBtn.addEventListener('click',async()=>{await navigator.clipboard.writeText(it.prompt);flash(copyBtn)});
    actions.appendChild(copyBtn);

    card.appendChild(iw);card.appendChild(title);card.appendChild(prompt);card.appendChild(actions);
    grid.appendChild(card);
  });
}

function openModal(src){modalImg.src=src;modal.classList.add('show')}
closeModal.addEventListener('click',()=>modal.classList.remove('show'));
modal.addEventListener('click',e=>{if(e.target===modal)modal.classList.remove('show')});

async function loadData(){
  try{
    const res=await fetch(PROMPTS_JSON_URL);DATA=await res.json();
  }catch{DATA=[{title:'Sample',prompt:'Test prompt',image:'https://via.placeholder.com/600x400'}]}
  render(DATA);
}
loadData();
</script>
</body>
</html>
